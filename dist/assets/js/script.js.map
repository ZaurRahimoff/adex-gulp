{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js","src/js/modules/event-program-tabs.js","src/js/modules/mobile-menu.js","src/js/modules/scroll-to-top.js","src/js/modules/swiper.js","src/js/modules/video-play.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Main JavaScript file\r\n// Импорт модулей\r\nimport { initSwiperSliders } from './modules/swiper';\r\nimport { initEventProgramTabs } from './modules/event-program-tabs';\r\nimport { initVideoPlay } from './modules/video-play';\r\nimport { initMobileMenu } from './modules/mobile-menu';\r\nimport { initScrollToTop } from './modules/scroll-to-top';\r\n\r\n// Инициализация всех модулей после загрузки DOM\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  // Инициализация Swiper слайдеров\r\n  initSwiperSliders();\r\n\r\n  // Инициализация вкладок программы мероприятия\r\n  initEventProgramTabs();\r\n\r\n  // Инициализация управления видео\r\n  initVideoPlay();\r\n\r\n  // Инициализация мобильного меню\r\n  initMobileMenu();\r\n\r\n  // Инициализация кнопки прокрутки наверх\r\n  initScrollToTop();\r\n});\r\n\r\n","/**\r\n * Модуль для управления вкладками программы мероприятия\r\n */\r\nexport function initEventProgramTabs() {\r\n  const eventProgramTabs = document.querySelectorAll('.event-program-section__tab');\r\n  \r\n  if (eventProgramTabs.length > 0) {\r\n    eventProgramTabs.forEach(tab => {\r\n      tab.addEventListener('click', function() {\r\n        // Удаляем активный класс со всех вкладок\r\n        eventProgramTabs.forEach(t => t.classList.remove('event-program-section__tab--active'));\r\n        // Добавляем активный класс к нажатой вкладке\r\n        this.classList.add('event-program-section__tab--active');\r\n        // Получаем выбранный день\r\n        const day = this.getAttribute('data-day');\r\n        console.log('Selected day:', day);\r\n        // Здесь можно добавить логику загрузки программы для выбранного дня\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Модуль для управления мобильным меню\r\n */\r\nexport function initMobileMenu() {\r\n  // Анимация переключателя мобильного меню\r\n  const topbarToggle = document.querySelector('.topbar__toggle');\r\n  const navbarMobileMenu = document.querySelector('#navbarMobileMenu');\r\n  \r\n  if (topbarToggle && navbarMobileMenu) {\r\n    navbarMobileMenu.addEventListener('show.bs.offcanvas', function() {\r\n      topbarToggle.setAttribute('aria-expanded', 'true');\r\n    });\r\n\r\n    navbarMobileMenu.addEventListener('hide.bs.offcanvas', function() {\r\n      topbarToggle.setAttribute('aria-expanded', 'false');\r\n    });\r\n  }\r\n\r\n  // Анимация иконок выпадающих меню в мобильной версии\r\n  const mobileLinks = document.querySelectorAll('.navbar__mobile-link[data-bs-toggle=\"collapse\"]');\r\n  \r\n  mobileLinks.forEach(link => {\r\n    link.addEventListener('click', function() {\r\n      const targetId = this.getAttribute('data-bs-target');\r\n      const target = document.querySelector(targetId);\r\n      \r\n      if (target) {\r\n        target.addEventListener('shown.bs.collapse', function() {\r\n          link.setAttribute('aria-expanded', 'true');\r\n        });\r\n\r\n        target.addEventListener('hidden.bs.collapse', function() {\r\n          link.setAttribute('aria-expanded', 'false');\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n","/**\n * Модуль для кнопки прокрутки наверх\n */\nexport function initScrollToTop() {\n  const scrollToTopBtns = document.querySelectorAll('.footer__scroll-top');\n  \n  scrollToTopBtns.forEach(btn => {\n    btn.addEventListener('click', function(e) {\n      e.preventDefault();\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    });\n  });\n}\n","/**\r\n * Универсальный модуль для инициализации Swiper слайдеров\r\n * Настройки читаются из data-атрибутов HTML элемента\r\n * \r\n * Использование в HTML:\r\n * <div class=\"swiper\" \r\n *      data-swiper\r\n *      data-slides-per-view=\"1\"\r\n *      data-space-between=\"20\"\r\n *      data-loop=\"true\"\r\n *      data-nav-prev=\".prev-btn\"\r\n *      data-nav-next=\".next-btn\"\r\n *      data-breakpoints='{\"576\":{\"slidesPerView\":2},\"768\":{\"slidesPerView\":3}}'>\r\n *   ...\r\n * </div>\r\n */\r\nexport function initSwiperSliders() {\r\n  // Инициализируем все слайдеры с классом .swiper\r\n  const swiperContainers = document.querySelectorAll('.swiper');\r\n  \r\n  swiperContainers.forEach(container => {\r\n    // Пропускаем если уже инициализирован\r\n    if (container.swiperInstance) {\r\n      return;\r\n    }\r\n    \r\n    const config = parseSwiperConfig(container);\r\n    const swiper = new Swiper(container, config);\r\n    \r\n    // Специальная обработка для photo-swiper\r\n    if (container.classList.contains('photo-swiper')) {\r\n      // Для auto slidesPerView с разными размерами слайдов\r\n      if (swiper.params.slidesPerView === 'auto' && swiper.params.loop) {\r\n        swiper.params.loopAdditionalSlides = 3;\r\n        swiper.params.loopedSlides = 6;\r\n        swiper.params.watchSlidesProgress = true;\r\n        swiper.params.watchSlidesVisibility = true;\r\n      }\r\n      \r\n      // Флаг для предотвращения множественных обновлений\r\n      let isUpdating = false;\r\n      \r\n      // Функция безопасного обновления\r\n      const safeUpdate = () => {\r\n        if (isUpdating) return;\r\n        isUpdating = true;\r\n        requestAnimationFrame(() => {\r\n          swiper.update();\r\n          isUpdating = false;\r\n        });\r\n      };\r\n      \r\n      // Обновляем размеры после инициализации (один раз)\r\n      setTimeout(() => {\r\n        swiper.update();\r\n      }, 150);\r\n      \r\n      // Обновляем только после завершения перехода\r\n      swiper.on('slideChangeTransitionEnd', function() {\r\n        safeUpdate();\r\n      });\r\n      \r\n      // Предотвращаем обновление во время перехода\r\n      swiper.on('slideChangeTransitionStart', function() {\r\n        // Не обновляем во время перехода\r\n      });\r\n      \r\n      // Обновляем при изменении размера окна\r\n      let resizeTimer;\r\n      const handleResize = () => {\r\n        clearTimeout(resizeTimer);\r\n        resizeTimer = setTimeout(() => {\r\n          if (!swiper.destroyed) {\r\n            swiper.update();\r\n          }\r\n        }, 250);\r\n      };\r\n      \r\n      window.addEventListener('resize', handleResize);\r\n      \r\n      // Очистка при уничтожении\r\n      swiper.on('destroy', () => {\r\n        window.removeEventListener('resize', handleResize);\r\n      });\r\n    }\r\n    \r\n    // Сохраняем экземпляр Swiper для доступа извне\r\n    container.swiperInstance = swiper;\r\n  });\r\n}\r\n\r\n/**\r\n * Парсит настройки Swiper из data-атрибутов элемента\r\n * @param {HTMLElement} element - Элемент со слайдером\r\n * @returns {Object} Конфигурация Swiper\r\n */\r\nfunction parseSwiperConfig(element) {\r\n  // Поддержка \"auto\" для slidesPerView\r\n  const slidesPerViewValue = element.dataset.slidesPerView;\r\n  const slidesPerView = slidesPerViewValue === 'auto' ? 'auto' : (parseInt(slidesPerViewValue) || 1);\r\n  \r\n  const config = {\r\n    slidesPerView: slidesPerView,\r\n    spaceBetween: parseInt(element.dataset.spaceBetween) || 20,\r\n    loop: element.dataset.loop === 'true' || element.dataset.loop === '',\r\n    centeredSlides: element.dataset.centeredSlides === 'true' || element.dataset.centeredSlides === '',\r\n    speed: parseInt(element.dataset.speed) || 300,\r\n    autoplay: element.dataset.autoplay ? {\r\n      delay: parseInt(element.dataset.autoplayDelay) || 3000,\r\n      disableOnInteraction: element.dataset.autoplayDisableOnInteraction !== 'false'\r\n    } : false,\r\n  };\r\n\r\n  // Добавляем loopAdditionalSlides для корректной работы loop с auto\r\n  if (config.slidesPerView === 'auto' && config.loop) {\r\n    config.loopAdditionalSlides = 4;\r\n    config.loopedSlides = 8;\r\n    config.watchSlidesProgress = true;\r\n    config.watchSlidesVisibility = true;\r\n  }\r\n\r\n  // Навигация - ищем кнопки навигации по селекторам или по классам\r\n  let navPrev = element.dataset.navPrev;\r\n  let navNext = element.dataset.navNext;\r\n  \r\n  // Если селекторы не указаны, пытаемся найти кнопки по стандартным классам\r\n  if (!navPrev || !navNext) {\r\n    const parent = element.closest('section');\r\n    if (parent) {\r\n      // Ищем кнопки навигации в родительской секции\r\n      const prevBtn = parent.querySelector('[class*=\"nav-btn--prev\"], [class*=\"nav-prev\"]');\r\n      const nextBtn = parent.querySelector('[class*=\"nav-btn--next\"], [class*=\"nav-next\"]');\r\n      \r\n      if (prevBtn && nextBtn) {\r\n        // Если нашли элементы, используем их напрямую\r\n        navPrev = navPrev || prevBtn;\r\n        navNext = navNext || nextBtn;\r\n      }\r\n    }\r\n  }\r\n  \r\n  if (navPrev && navNext) {\r\n    config.navigation = {\r\n      // Если это строка (селектор), используем как есть, иначе передаем элемент\r\n      nextEl: typeof navNext === 'string' ? navNext : navNext,\r\n      prevEl: typeof navPrev === 'string' ? navPrev : navPrev,\r\n    };\r\n  }\r\n\r\n  // Пагинация\r\n  const pagination = element.dataset.pagination;\r\n  if (pagination) {\r\n    config.pagination = {\r\n      el: pagination,\r\n      clickable: element.dataset.paginationClickable !== 'false',\r\n      type: element.dataset.paginationType || 'bullets',\r\n    };\r\n  }\r\n\r\n  // Breakpoints\r\n  const breakpoints = parseBreakpoints(element);\r\n  if (breakpoints && Object.keys(breakpoints).length > 0) {\r\n    config.breakpoints = breakpoints;\r\n  }\r\n\r\n  // Дополнительные опции из JSON\r\n  if (element.dataset.swiperOptions) {\r\n    try {\r\n      const customOptions = JSON.parse(element.dataset.swiperOptions);\r\n      Object.assign(config, customOptions);\r\n    } catch (e) {\r\n      console.warn('Не удалось распарсить data-swiper-options:', e);\r\n    }\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\n/**\r\n * Парсит breakpoints из data-атрибутов\r\n * Формат: data-breakpoints='{\"576\":{\"slidesPerView\":2},\"768\":{\"slidesPerView\":3}}'\r\n * или отдельные атрибуты: data-breakpoint-576-slides-per-view=\"2\"\r\n * @param {HTMLElement} element - Элемент со слайдером\r\n * @returns {Object} Объект с breakpoints\r\n */\r\nfunction parseBreakpoints(element) {\r\n  const breakpoints = {};\r\n\r\n  // Вариант 1: JSON в data-breakpoints\r\n  if (element.dataset.breakpoints) {\r\n    try {\r\n      return JSON.parse(element.dataset.breakpoints);\r\n    } catch (e) {\r\n      console.warn('Не удалось распарсить data-breakpoints:', e);\r\n    }\r\n  }\r\n\r\n  // Вариант 2: Отдельные атрибуты data-breakpoint-{width}-{option}\r\n  const breakpointPattern = /^breakpoint-(\\d+)-(.+)$/;\r\n  const dataAttrs = Object.keys(element.dataset);\r\n  \r\n  dataAttrs.forEach(attr => {\r\n    const match = attr.match(breakpointPattern);\r\n    if (match) {\r\n      const width = parseInt(match[1]);\r\n      const option = camelCase(match[2]);\r\n      \r\n      if (!breakpoints[width]) {\r\n        breakpoints[width] = {};\r\n      }\r\n      \r\n      const value = element.dataset[attr];\r\n      breakpoints[width][option] = parseValue(value);\r\n    }\r\n  });\r\n\r\n  return breakpoints;\r\n}\r\n\r\n/**\r\n * Преобразует kebab-case в camelCase\r\n * @param {string} str - Строка в kebab-case\r\n * @returns {string} Строка в camelCase\r\n */\r\nfunction camelCase(str) {\r\n  return str.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\r\n}\r\n\r\n/**\r\n * Парсит значение в правильный тип (число, boolean, строка)\r\n * @param {string} value - Значение для парсинга\r\n * @returns {*} Парсенное значение\r\n */\r\nfunction parseValue(value) {\r\n  if (value === 'true') return true;\r\n  if (value === 'false') return false;\r\n  if (!isNaN(value) && value !== '') return parseInt(value);\r\n  return value;\r\n}\r\n","/**\r\n * Модуль для управления воспроизведением видео\r\n */\r\nexport function initVideoPlay() {\r\n  const videoPlayButtons = document.querySelectorAll('.hero__play-btn, .video-section__play-btn');\r\n  \r\n  videoPlayButtons.forEach(btn => {\r\n    btn.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      \r\n      const videoWrapper = this.closest('.hero, .video-section');\r\n      if (!videoWrapper) return;\r\n      \r\n      // Ищем iframe или video элемент\r\n      const iframe = videoWrapper.querySelector('iframe.hero__video');\r\n      const video = videoWrapper.querySelector('video');\r\n      \r\n      if (iframe) {\r\n        // Для YouTube iframe\r\n        const src = iframe.src;\r\n        const isPlaying = src.includes('autoplay=1');\r\n        \r\n        if (!isPlaying) {\r\n          // Добавляем autoplay к URL\r\n          const separator = src.includes('?') ? '&' : '?';\r\n          iframe.src = src + separator + 'autoplay=1';\r\n          this.style.display = 'none';\r\n        }\r\n      } else if (video) {\r\n        // Для обычного video элемента\r\n        if (video.paused) {\r\n          video.play();\r\n          this.style.display = 'none';\r\n        } else {\r\n          video.pause();\r\n          this.style.display = 'flex';\r\n        }\r\n      }\r\n    });\r\n  });\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2R1bGVzL2V2ZW50LXByb2dyYW0tdGFicy5qcyIsInNyYy9qcy9tb2R1bGVzL21vYmlsZS1tZW51LmpzIiwic3JjL2pzL21vZHVsZXMvc2Nyb2xsLXRvLXRvcC5qcyIsInNyYy9qcy9tb2R1bGVzL3N3aXBlci5qcyIsInNyYy9qcy9tb2R1bGVzL3ZpZGVvLXBsYXkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBLElBQUEsT0FBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLGlCQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsVUFBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLFdBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQTtBQU5BO0FBQ0E7O0FBT0E7QUFDQSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsWUFBVztFQUN2RDtFQUNBLElBQUEseUJBQWlCLEVBQUMsQ0FBQzs7RUFFbkI7RUFDQSxJQUFBLHNDQUFvQixFQUFDLENBQUM7O0VBRXRCO0VBQ0EsSUFBQSx3QkFBYSxFQUFDLENBQUM7O0VBRWY7RUFDQSxJQUFBLDBCQUFjLEVBQUMsQ0FBQzs7RUFFaEI7RUFDQSxJQUFBLDRCQUFlLEVBQUMsQ0FBQztBQUNuQixDQUFDLENBQUM7Ozs7Ozs7OztBQ3hCRjtBQUNBO0FBQ0E7QUFDTyxTQUFTLG9CQUFvQixDQUFBLEVBQUc7RUFDckMsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsNkJBQTZCLENBQUM7RUFFakYsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQy9CLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7TUFDOUIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO1FBQ3ZDO1FBQ0EsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO1FBQ3ZGO1FBQ0EsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsb0NBQW9DLENBQUM7UUFDeEQ7UUFDQSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUM7UUFDakM7TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSjtBQUNGOzs7Ozs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ08sU0FBUyxjQUFjLENBQUEsRUFBRztFQUMvQjtFQUNBLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUM7RUFDOUQsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDO0VBRXBFLElBQUksWUFBWSxJQUFJLGdCQUFnQixFQUFFO0lBQ3BDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFFLFlBQVc7TUFDaEUsWUFBWSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDO0lBQ3BELENBQUMsQ0FBQztJQUVGLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFFLFlBQVc7TUFDaEUsWUFBWSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKOztFQUVBO0VBQ0EsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGlEQUFpRCxDQUFDO0VBRWhHLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJO0lBQzFCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBVztNQUN4QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDO01BQ3BELE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO01BRS9DLElBQUksTUFBTSxFQUFFO1FBQ1YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFFLFlBQVc7VUFDdEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDO1FBQzVDLENBQUMsQ0FBQztRQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsRUFBRSxZQUFXO1VBQ3ZELElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLE9BQU8sQ0FBQztRQUM3QyxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKOzs7Ozs7Ozs7QUNyQ0E7QUFDQTtBQUNBO0FBQ08sU0FBUyxlQUFlLENBQUEsRUFBRztFQUNoQyxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUM7RUFFeEUsZUFBZSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7SUFDN0IsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTLENBQUMsRUFBRTtNQUN4QyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUM7TUFDbEIsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNkLEdBQUcsRUFBRSxDQUFDO1FBQ04sUUFBUSxFQUFFO01BQ1osQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0o7Ozs7Ozs7OztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBUyxpQkFBaUIsQ0FBQSxFQUFHO0VBQ2xDO0VBQ0EsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO0VBRTdELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUk7SUFDcEM7SUFDQSxJQUFJLFNBQVMsQ0FBQyxjQUFjLEVBQUU7TUFDNUI7SUFDRjtJQUVBLE1BQU0sTUFBTSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDOztJQUU1QztJQUNBLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUU7TUFDaEQ7TUFDQSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNoRSxNQUFNLENBQUMsTUFBTSxDQUFDLG9CQUFvQixHQUFHLENBQUM7UUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQztRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixHQUFHLElBQUk7UUFDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsR0FBRyxJQUFJO01BQzVDOztNQUVBO01BQ0EsSUFBSSxVQUFVLEdBQUcsS0FBSzs7TUFFdEI7TUFDQSxNQUFNLFVBQVUsR0FBRyxDQUFBLEtBQU07UUFDdkIsSUFBSSxVQUFVLEVBQUU7UUFDaEIsVUFBVSxHQUFHLElBQUk7UUFDakIscUJBQXFCLENBQUMsTUFBTTtVQUMxQixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7VUFDZixVQUFVLEdBQUcsS0FBSztRQUNwQixDQUFDLENBQUM7TUFDSixDQUFDOztNQUVEO01BQ0EsVUFBVSxDQUFDLE1BQU07UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7TUFDakIsQ0FBQyxFQUFFLEdBQUcsQ0FBQzs7TUFFUDtNQUNBLE1BQU0sQ0FBQyxFQUFFLENBQUMsMEJBQTBCLEVBQUUsWUFBVztRQUMvQyxVQUFVLENBQUMsQ0FBQztNQUNkLENBQUMsQ0FBQzs7TUFFRjtNQUNBLE1BQU0sQ0FBQyxFQUFFLENBQUMsNEJBQTRCLEVBQUUsWUFBVztRQUNqRDtNQUFBLENBQ0QsQ0FBQzs7TUFFRjtNQUNBLElBQUksV0FBVztNQUNmLE1BQU0sWUFBWSxHQUFHLENBQUEsS0FBTTtRQUN6QixZQUFZLENBQUMsV0FBVyxDQUFDO1FBQ3pCLFdBQVcsR0FBRyxVQUFVLENBQUMsTUFBTTtVQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUNyQixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7VUFDakI7UUFDRixDQUFDLEVBQUUsR0FBRyxDQUFDO01BQ1QsQ0FBQztNQUVELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDOztNQUUvQztNQUNBLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLE1BQU07UUFDekIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUM7TUFDcEQsQ0FBQyxDQUFDO0lBQ0o7O0lBRUE7SUFDQSxTQUFTLENBQUMsY0FBYyxHQUFHLE1BQU07RUFDbkMsQ0FBQyxDQUFDO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUJBQWlCLENBQUMsT0FBTyxFQUFFO0VBQ2xDO0VBQ0EsTUFBTSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWE7RUFDeEQsTUFBTSxhQUFhLEdBQUcsa0JBQWtCLEtBQUssTUFBTSxHQUFHLE1BQU0sR0FBSSxRQUFRLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFFO0VBRWxHLE1BQU0sTUFBTSxHQUFHO0lBQ2IsYUFBYSxFQUFFLGFBQWE7SUFDNUIsWUFBWSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDMUQsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLE1BQU0sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksS0FBSyxFQUFFO0lBQ3BFLGNBQWMsRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLGNBQWMsS0FBSyxNQUFNLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEtBQUssRUFBRTtJQUNsRyxLQUFLLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRztJQUM3QyxRQUFRLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUc7TUFDbkMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLElBQUk7TUFDdEQsb0JBQW9CLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsS0FBSztJQUN6RSxDQUFDLEdBQUc7RUFDTixDQUFDOztFQUVEO0VBQ0EsSUFBSSxNQUFNLENBQUMsYUFBYSxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO0lBQ2xELE1BQU0sQ0FBQyxvQkFBb0IsR0FBRyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxZQUFZLEdBQUcsQ0FBQztJQUN2QixNQUFNLENBQUMsbUJBQW1CLEdBQUcsSUFBSTtJQUNqQyxNQUFNLENBQUMscUJBQXFCLEdBQUcsSUFBSTtFQUNyQzs7RUFFQTtFQUNBLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTztFQUNyQyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU87O0VBRXJDO0VBQ0EsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRTtJQUN4QixNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztJQUN6QyxJQUFJLE1BQU0sRUFBRTtNQUNWO01BQ0EsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQywrQ0FBK0MsQ0FBQztNQUNyRixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLCtDQUErQyxDQUFDO01BRXJGLElBQUksT0FBTyxJQUFJLE9BQU8sRUFBRTtRQUN0QjtRQUNBLE9BQU8sR0FBRyxPQUFPLElBQUksT0FBTztRQUM1QixPQUFPLEdBQUcsT0FBTyxJQUFJLE9BQU87TUFDOUI7SUFDRjtFQUNGO0VBRUEsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO0lBQ3RCLE1BQU0sQ0FBQyxVQUFVLEdBQUc7TUFDbEI7TUFDQSxNQUFNLEVBQUUsT0FBTyxPQUFPLEtBQUssUUFBUSxHQUFHLE9BQU8sR0FBRyxPQUFPO01BQ3ZELE1BQU0sRUFBRSxPQUFPLE9BQU8sS0FBSyxRQUFRLEdBQUcsT0FBTyxHQUFHO0lBQ2xELENBQUM7RUFDSDs7RUFFQTtFQUNBLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVTtFQUM3QyxJQUFJLFVBQVUsRUFBRTtJQUNkLE1BQU0sQ0FBQyxVQUFVLEdBQUc7TUFDbEIsRUFBRSxFQUFFLFVBQVU7TUFDZCxTQUFTLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsS0FBSyxPQUFPO01BQzFELElBQUksRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSTtJQUMxQyxDQUFDO0VBQ0g7O0VBRUE7RUFDQSxNQUFNLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7RUFDN0MsSUFBSSxXQUFXLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQ3RELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVztFQUNsQzs7RUFFQTtFQUNBLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUU7SUFDakMsSUFBSTtNQUNGLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7TUFDL0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsYUFBYSxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRTtNQUNWLE9BQU8sQ0FBQyxJQUFJLENBQUMsNENBQTRDLEVBQUUsQ0FBQyxDQUFDO0lBQy9EO0VBQ0Y7RUFFQSxPQUFPLE1BQU07QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO0VBQ2pDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQzs7RUFFdEI7RUFDQSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO0lBQy9CLElBQUk7TUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7SUFDaEQsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFO01BQ1YsT0FBTyxDQUFDLElBQUksQ0FBQyx5Q0FBeUMsRUFBRSxDQUFDLENBQUM7SUFDNUQ7RUFDRjs7RUFFQTtFQUNBLE1BQU0saUJBQWlCLEdBQUcseUJBQXlCO0VBQ25ELE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztFQUU5QyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSTtJQUN4QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDO0lBQzNDLElBQUksS0FBSyxFQUFFO01BQ1QsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNoQyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO01BRWxDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkIsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUN6QjtNQUVBLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO01BQ25DLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDO0lBQ2hEO0VBQ0YsQ0FBQyxDQUFDO0VBRUYsT0FBTyxXQUFXO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVMsQ0FBQyxHQUFHLEVBQUU7RUFDdEIsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRyxDQUFDLElBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRTtFQUN6QixJQUFJLEtBQUssS0FBSyxNQUFNLEVBQUUsT0FBTyxJQUFJO0VBQ2pDLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxPQUFPLEtBQUs7RUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssRUFBRSxFQUFFLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQztFQUN6RCxPQUFPLEtBQUs7QUFDZDs7Ozs7Ozs7O0FDOU9BO0FBQ0E7QUFDQTtBQUNPLFNBQVMsYUFBYSxDQUFBLEVBQUc7RUFDOUIsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsMkNBQTJDLENBQUM7RUFFL0YsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtJQUM5QixHQUFHLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVMsQ0FBQyxFQUFFO01BQ3hDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztNQUVsQixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDO01BQzFELElBQUksQ0FBQyxZQUFZLEVBQUU7O01BRW5CO01BQ0EsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQztNQUMvRCxNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztNQUVqRCxJQUFJLE1BQU0sRUFBRTtRQUNWO1FBQ0EsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUc7UUFDdEIsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7UUFFNUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtVQUNkO1VBQ0EsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRztVQUMvQyxNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsWUFBWTtVQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNO1FBQzdCO01BQ0YsQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO1FBQ2hCO1FBQ0EsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1VBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztVQUNaLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07UUFDN0IsQ0FBQyxNQUFNO1VBQ0wsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1VBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTTtRQUM3QjtNQUNGO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0oiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvLyBNYWluIEphdmFTY3JpcHQgZmlsZVxyXG4vLyDQmNC80L/QvtGA0YIg0LzQvtC00YPQu9C10LlcclxuaW1wb3J0IHsgaW5pdFN3aXBlclNsaWRlcnMgfSBmcm9tICcuL21vZHVsZXMvc3dpcGVyJztcclxuaW1wb3J0IHsgaW5pdEV2ZW50UHJvZ3JhbVRhYnMgfSBmcm9tICcuL21vZHVsZXMvZXZlbnQtcHJvZ3JhbS10YWJzJztcclxuaW1wb3J0IHsgaW5pdFZpZGVvUGxheSB9IGZyb20gJy4vbW9kdWxlcy92aWRlby1wbGF5JztcclxuaW1wb3J0IHsgaW5pdE1vYmlsZU1lbnUgfSBmcm9tICcuL21vZHVsZXMvbW9iaWxlLW1lbnUnO1xyXG5pbXBvcnQgeyBpbml0U2Nyb2xsVG9Ub3AgfSBmcm9tICcuL21vZHVsZXMvc2Nyb2xsLXRvLXRvcCc7XHJcblxyXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQstGB0LXRhSDQvNC+0LTRg9C70LXQuSDQv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60LggRE9NXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyBTd2lwZXIg0YHQu9Cw0LnQtNC10YDQvtCyXHJcbiAgaW5pdFN3aXBlclNsaWRlcnMoKTtcclxuXHJcbiAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LLQutC70LDQtNC+0Log0L/RgNC+0LPRgNCw0LzQvNGLINC80LXRgNC+0L/RgNC40Y/RgtC40Y9cclxuICBpbml0RXZlbnRQcm9ncmFtVGFicygpO1xyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQstC40LTQtdC+XHJcbiAgaW5pdFZpZGVvUGxheSgpO1xyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvNC+0LHQuNC70YzQvdC+0LPQviDQvNC10L3RjlxyXG4gIGluaXRNb2JpbGVNZW51KCk7XHJcblxyXG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L3QvtC/0LrQuCDQv9GA0L7QutGA0YPRgtC60Lgg0L3QsNCy0LXRgNGFXHJcbiAgaW5pdFNjcm9sbFRvVG9wKCk7XHJcbn0pO1xyXG5cclxuIiwiLyoqXHJcbiAqINCc0L7QtNGD0LvRjCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LLQutC70LDQtNC60LDQvNC4INC/0YDQvtCz0YDQsNC80LzRiyDQvNC10YDQvtC/0YDQuNGP0YLQuNGPXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEV2ZW50UHJvZ3JhbVRhYnMoKSB7XHJcbiAgY29uc3QgZXZlbnRQcm9ncmFtVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ldmVudC1wcm9ncmFtLXNlY3Rpb25fX3RhYicpO1xyXG4gIFxyXG4gIGlmIChldmVudFByb2dyYW1UYWJzLmxlbmd0aCA+IDApIHtcclxuICAgIGV2ZW50UHJvZ3JhbVRhYnMuZm9yRWFjaCh0YWIgPT4ge1xyXG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyDQo9C00LDQu9GP0LXQvCDQsNC60YLQuNCy0L3Ri9C5INC60LvQsNGB0YEg0YHQviDQstGB0LXRhSDQstC60LvQsNC00L7QulxyXG4gICAgICAgIGV2ZW50UHJvZ3JhbVRhYnMuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnJlbW92ZSgnZXZlbnQtcHJvZ3JhbS1zZWN0aW9uX190YWItLWFjdGl2ZScpKTtcclxuICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LDQutGC0LjQstC90YvQuSDQutC70LDRgdGBINC6INC90LDQttCw0YLQvtC5INCy0LrQu9Cw0LTQutC1XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdldmVudC1wcm9ncmFtLXNlY3Rpb25fX3RhYi0tYWN0aXZlJyk7XHJcbiAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQstGL0LHRgNCw0L3QvdGL0Lkg0LTQtdC90YxcclxuICAgICAgICBjb25zdCBkYXkgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXknKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQgZGF5OicsIGRheSk7XHJcbiAgICAgICAgLy8g0JfQtNC10YHRjCDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0LvQvtCz0LjQutGDINC30LDQs9GA0YPQt9C60Lgg0L/RgNC+0LPRgNCw0LzQvNGLINC00LvRjyDQstGL0LHRgNCw0L3QvdC+0LPQviDQtNC90Y9cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqINCc0L7QtNGD0LvRjCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LzQvtCx0LjQu9GM0L3Ri9C8INC80LXQvdGOXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdE1vYmlsZU1lbnUoKSB7XHJcbiAgLy8g0JDQvdC40LzQsNGG0LjRjyDQv9C10YDQtdC60LvRjtGH0LDRgtC10LvRjyDQvNC+0LHQuNC70YzQvdC+0LPQviDQvNC10L3RjlxyXG4gIGNvbnN0IHRvcGJhclRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3BiYXJfX3RvZ2dsZScpO1xyXG4gIGNvbnN0IG5hdmJhck1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2YmFyTW9iaWxlTWVudScpO1xyXG4gIFxyXG4gIGlmICh0b3BiYXJUb2dnbGUgJiYgbmF2YmFyTW9iaWxlTWVudSkge1xyXG4gICAgbmF2YmFyTW9iaWxlTWVudS5hZGRFdmVudExpc3RlbmVyKCdzaG93LmJzLm9mZmNhbnZhcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB0b3BiYXJUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG5hdmJhck1vYmlsZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignaGlkZS5icy5vZmZjYW52YXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgdG9wYmFyVG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQkNC90LjQvNCw0YbQuNGPINC40LrQvtC90L7QuiDQstGL0L/QsNC00LDRjtGJ0LjRhSDQvNC10L3RjiDQsiDQvNC+0LHQuNC70YzQvdC+0Lkg0LLQtdGA0YHQuNC4XHJcbiAgY29uc3QgbW9iaWxlTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19tb2JpbGUtbGlua1tkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCJdJyk7XHJcbiAgXHJcbiAgbW9iaWxlTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1icy10YXJnZXQnKTtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3duLmJzLmNvbGxhcHNlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoaWRkZW4uYnMuY29sbGFwc2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxuICog0JzQvtC00YPQu9GMINC00LvRjyDQutC90L7Qv9C60Lgg0L/RgNC+0LrRgNGD0YLQutC4INC90LDQstC10YDRhVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjcm9sbFRvVG9wKCkge1xuICBjb25zdCBzY3JvbGxUb1RvcEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9vdGVyX19zY3JvbGwtdG9wJyk7XG4gIFxuICBzY3JvbGxUb1RvcEJ0bnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKipcclxuICog0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0LzQvtC00YPQu9GMINC00LvRjyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCBTd2lwZXIg0YHQu9Cw0LnQtNC10YDQvtCyXHJcbiAqINCd0LDRgdGC0YDQvtC50LrQuCDRh9C40YLQsNGO0YLRgdGPINC40LcgZGF0YS3QsNGC0YDQuNCx0YPRgtC+0LIgSFRNTCDRjdC70LXQvNC10L3RgtCwXHJcbiAqIFxyXG4gKiDQmNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQsiBIVE1MOlxyXG4gKiA8ZGl2IGNsYXNzPVwic3dpcGVyXCIgXHJcbiAqICAgICAgZGF0YS1zd2lwZXJcclxuICogICAgICBkYXRhLXNsaWRlcy1wZXItdmlldz1cIjFcIlxyXG4gKiAgICAgIGRhdGEtc3BhY2UtYmV0d2Vlbj1cIjIwXCJcclxuICogICAgICBkYXRhLWxvb3A9XCJ0cnVlXCJcclxuICogICAgICBkYXRhLW5hdi1wcmV2PVwiLnByZXYtYnRuXCJcclxuICogICAgICBkYXRhLW5hdi1uZXh0PVwiLm5leHQtYnRuXCJcclxuICogICAgICBkYXRhLWJyZWFrcG9pbnRzPSd7XCI1NzZcIjp7XCJzbGlkZXNQZXJWaWV3XCI6Mn0sXCI3NjhcIjp7XCJzbGlkZXNQZXJWaWV3XCI6M319Jz5cclxuICogICAuLi5cclxuICogPC9kaXY+XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN3aXBlclNsaWRlcnMoKSB7XHJcbiAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCDQstGB0LUg0YHQu9Cw0LnQtNC10YDRiyDRgSDQutC70LDRgdGB0L7QvCAuc3dpcGVyXHJcbiAgY29uc3Qgc3dpcGVyQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXInKTtcclxuICBcclxuICBzd2lwZXJDb250YWluZXJzLmZvckVhY2goY29udGFpbmVyID0+IHtcclxuICAgIC8vINCf0YDQvtC/0YPRgdC60LDQtdC8INC10YHQu9C4INGD0LbQtSDQuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0L1cclxuICAgIGlmIChjb250YWluZXIuc3dpcGVySW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjb25maWcgPSBwYXJzZVN3aXBlckNvbmZpZyhjb250YWluZXIpO1xyXG4gICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihjb250YWluZXIsIGNvbmZpZyk7XHJcbiAgICBcclxuICAgIC8vINCh0L/QtdGG0LjQsNC70YzQvdCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwINC00LvRjyBwaG90by1zd2lwZXJcclxuICAgIGlmIChjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaG90by1zd2lwZXInKSkge1xyXG4gICAgICAvLyDQlNC70Y8gYXV0byBzbGlkZXNQZXJWaWV3INGBINGA0LDQt9C90YvQvNC4INGA0LDQt9C80LXRgNCw0LzQuCDRgdC70LDQudC00L7QslxyXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgc3dpcGVyLnBhcmFtcy5sb29wKSB7XHJcbiAgICAgICAgc3dpcGVyLnBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcyA9IDM7XHJcbiAgICAgICAgc3dpcGVyLnBhcmFtcy5sb29wZWRTbGlkZXMgPSA2O1xyXG4gICAgICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgc3dpcGVyLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDQpNC70LDQsyDQtNC70Y8g0L/RgNC10LTQvtGC0LLRgNCw0YnQtdC90LjRjyDQvNC90L7QttC10YHRgtCy0LXQvdC90YvRhSDQvtCx0L3QvtCy0LvQtdC90LjQuVxyXG4gICAgICBsZXQgaXNVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICBcclxuICAgICAgLy8g0KTRg9C90LrRhtC40Y8g0LHQtdC30L7Qv9Cw0YHQvdC+0LPQviDQvtCx0L3QvtCy0LvQtdC90LjRj1xyXG4gICAgICBjb25zdCBzYWZlVXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpc1VwZGF0aW5nKSByZXR1cm47XHJcbiAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgIHN3aXBlci51cGRhdGUoKTtcclxuICAgICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgNCw0LfQvNC10YDRiyDQv9C+0YHQu9C1INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4ICjQvtC00LjQvSDRgNCw0LcpXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHN3aXBlci51cGRhdGUoKTtcclxuICAgICAgfSwgMTUwKTtcclxuICAgICAgXHJcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgtC+0LvRjNC60L4g0L/QvtGB0LvQtSDQt9Cw0LLQtdGA0YjQtdC90LjRjyDQv9C10YDQtdGF0L7QtNCwXHJcbiAgICAgIHN3aXBlci5vbignc2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2FmZVVwZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vINCf0YDQtdC00L7RgtCy0YDQsNGJ0LDQtdC8INC+0LHQvdC+0LLQu9C10L3QuNC1INCy0L4g0LLRgNC10LzRjyDQv9C10YDQtdGF0L7QtNCwXHJcbiAgICAgIHN3aXBlci5vbignc2xpZGVDaGFuZ2VUcmFuc2l0aW9uU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyDQndC1INC+0LHQvdC+0LLQu9GP0LXQvCDQstC+INCy0YDQtdC80Y8g0L/QtdGA0LXRhdC+0LTQsFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INGA0LDQt9C80LXRgNCwINC+0LrQvdCwXHJcbiAgICAgIGxldCByZXNpemVUaW1lcjtcclxuICAgICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XHJcbiAgICAgICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBzd2lwZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMjUwKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICBcclxuICAgICAgLy8g0J7Rh9C40YHRgtC60LAg0L/RgNC4INGD0L3QuNGH0YLQvtC20LXQvdC40LhcclxuICAgICAgc3dpcGVyLm9uKCdkZXN0cm95JywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g0KHQvtGF0YDQsNC90Y/QtdC8INGN0LrQt9C10LzQv9C70Y/RgCBTd2lwZXIg0LTQu9GPINC00L7RgdGC0YPQv9CwINC40LfQstC90LVcclxuICAgIGNvbnRhaW5lci5zd2lwZXJJbnN0YW5jZSA9IHN3aXBlcjtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqINCf0LDRgNGB0LjRgiDQvdCw0YHRgtGA0L7QudC60LggU3dpcGVyINC40LcgZGF0YS3QsNGC0YDQuNCx0YPRgtC+0LIg0Y3Qu9C10LzQtdC90YLQsFxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0g0K3Qu9C10LzQtdC90YIg0YHQviDRgdC70LDQudC00LXRgNC+0LxcclxuICogQHJldHVybnMge09iamVjdH0g0JrQvtC90YTQuNCz0YPRgNCw0YbQuNGPIFN3aXBlclxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VTd2lwZXJDb25maWcoZWxlbWVudCkge1xyXG4gIC8vINCf0L7QtNC00LXRgNC20LrQsCBcImF1dG9cIiDQtNC70Y8gc2xpZGVzUGVyVmlld1xyXG4gIGNvbnN0IHNsaWRlc1BlclZpZXdWYWx1ZSA9IGVsZW1lbnQuZGF0YXNldC5zbGlkZXNQZXJWaWV3O1xyXG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBzbGlkZXNQZXJWaWV3VmFsdWUgPT09ICdhdXRvJyA/ICdhdXRvJyA6IChwYXJzZUludChzbGlkZXNQZXJWaWV3VmFsdWUpIHx8IDEpO1xyXG4gIFxyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHNsaWRlc1BlclZpZXc6IHNsaWRlc1BlclZpZXcsXHJcbiAgICBzcGFjZUJldHdlZW46IHBhcnNlSW50KGVsZW1lbnQuZGF0YXNldC5zcGFjZUJldHdlZW4pIHx8IDIwLFxyXG4gICAgbG9vcDogZWxlbWVudC5kYXRhc2V0Lmxvb3AgPT09ICd0cnVlJyB8fCBlbGVtZW50LmRhdGFzZXQubG9vcCA9PT0gJycsXHJcbiAgICBjZW50ZXJlZFNsaWRlczogZWxlbWVudC5kYXRhc2V0LmNlbnRlcmVkU2xpZGVzID09PSAndHJ1ZScgfHwgZWxlbWVudC5kYXRhc2V0LmNlbnRlcmVkU2xpZGVzID09PSAnJyxcclxuICAgIHNwZWVkOiBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuc3BlZWQpIHx8IDMwMCxcclxuICAgIGF1dG9wbGF5OiBlbGVtZW50LmRhdGFzZXQuYXV0b3BsYXkgPyB7XHJcbiAgICAgIGRlbGF5OiBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuYXV0b3BsYXlEZWxheSkgfHwgMzAwMCxcclxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGVsZW1lbnQuZGF0YXNldC5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uICE9PSAnZmFsc2UnXHJcbiAgICB9IDogZmFsc2UsXHJcbiAgfTtcclxuXHJcbiAgLy8g0JTQvtCx0LDQstC70Y/QtdC8IGxvb3BBZGRpdGlvbmFsU2xpZGVzINC00LvRjyDQutC+0YDRgNC10LrRgtC90L7QuSDRgNCw0LHQvtGC0YsgbG9vcCDRgSBhdXRvXHJcbiAgaWYgKGNvbmZpZy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgY29uZmlnLmxvb3ApIHtcclxuICAgIGNvbmZpZy5sb29wQWRkaXRpb25hbFNsaWRlcyA9IDQ7XHJcbiAgICBjb25maWcubG9vcGVkU2xpZGVzID0gODtcclxuICAgIGNvbmZpZy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcclxuICAgIGNvbmZpZy53YXRjaFNsaWRlc1Zpc2liaWxpdHkgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8g0J3QsNCy0LjQs9Cw0YbQuNGPIC0g0LjRidC10Lwg0LrQvdC+0L/QutC4INC90LDQstC40LPQsNGG0LjQuCDQv9C+INGB0LXQu9C10LrRgtC+0YDQsNC8INC40LvQuCDQv9C+INC60LvQsNGB0YHQsNC8XHJcbiAgbGV0IG5hdlByZXYgPSBlbGVtZW50LmRhdGFzZXQubmF2UHJldjtcclxuICBsZXQgbmF2TmV4dCA9IGVsZW1lbnQuZGF0YXNldC5uYXZOZXh0O1xyXG4gIFxyXG4gIC8vINCV0YHQu9C4INGB0LXQu9C10LrRgtC+0YDRiyDQvdC1INGD0LrQsNC30LDQvdGLLCDQv9GL0YLQsNC10LzRgdGPINC90LDQudGC0Lgg0LrQvdC+0L/QutC4INC/0L4g0YHRgtCw0L3QtNCw0YDRgtC90YvQvCDQutC70LDRgdGB0LDQvFxyXG4gIGlmICghbmF2UHJldiB8fCAhbmF2TmV4dCkge1xyXG4gICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5jbG9zZXN0KCdzZWN0aW9uJyk7XHJcbiAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgIC8vINCY0YnQtdC8INC60L3QvtC/0LrQuCDQvdCw0LLQuNCz0LDRhtC40Lgg0LIg0YDQvtC00LjRgtC10LvRjNGB0LrQvtC5INGB0LXQutGG0LjQuFxyXG4gICAgICBjb25zdCBwcmV2QnRuID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJuYXYtYnRuLS1wcmV2XCJdLCBbY2xhc3MqPVwibmF2LXByZXZcIl0nKTtcclxuICAgICAgY29uc3QgbmV4dEJ0biA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwibmF2LWJ0bi0tbmV4dFwiXSwgW2NsYXNzKj1cIm5hdi1uZXh0XCJdJyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocHJldkJ0biAmJiBuZXh0QnRuKSB7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L3QsNGI0LvQuCDRjdC70LXQvNC10L3RgtGLLCDQuNGB0L/QvtC70YzQt9GD0LXQvCDQuNGFINC90LDQv9GA0Y/QvNGD0Y5cclxuICAgICAgICBuYXZQcmV2ID0gbmF2UHJldiB8fCBwcmV2QnRuO1xyXG4gICAgICAgIG5hdk5leHQgPSBuYXZOZXh0IHx8IG5leHRCdG47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgaWYgKG5hdlByZXYgJiYgbmF2TmV4dCkge1xyXG4gICAgY29uZmlnLm5hdmlnYXRpb24gPSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INGN0YLQviDRgdGC0YDQvtC60LAgKNGB0LXQu9C10LrRgtC+0YApLCDQuNGB0L/QvtC70YzQt9GD0LXQvCDQutCw0Log0LXRgdGC0YwsINC40L3QsNGH0LUg0L/QtdGA0LXQtNCw0LXQvCDRjdC70LXQvNC10L3RglxyXG4gICAgICBuZXh0RWw6IHR5cGVvZiBuYXZOZXh0ID09PSAnc3RyaW5nJyA/IG5hdk5leHQgOiBuYXZOZXh0LFxyXG4gICAgICBwcmV2RWw6IHR5cGVvZiBuYXZQcmV2ID09PSAnc3RyaW5nJyA/IG5hdlByZXYgOiBuYXZQcmV2LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINCf0LDQs9C40L3QsNGG0LjRj1xyXG4gIGNvbnN0IHBhZ2luYXRpb24gPSBlbGVtZW50LmRhdGFzZXQucGFnaW5hdGlvbjtcclxuICBpZiAocGFnaW5hdGlvbikge1xyXG4gICAgY29uZmlnLnBhZ2luYXRpb24gPSB7XHJcbiAgICAgIGVsOiBwYWdpbmF0aW9uLFxyXG4gICAgICBjbGlja2FibGU6IGVsZW1lbnQuZGF0YXNldC5wYWdpbmF0aW9uQ2xpY2thYmxlICE9PSAnZmFsc2UnLFxyXG4gICAgICB0eXBlOiBlbGVtZW50LmRhdGFzZXQucGFnaW5hdGlvblR5cGUgfHwgJ2J1bGxldHMnLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIEJyZWFrcG9pbnRzXHJcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBwYXJzZUJyZWFrcG9pbnRzKGVsZW1lbnQpO1xyXG4gIGlmIChicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID4gMCkge1xyXG4gICAgY29uZmlnLmJyZWFrcG9pbnRzID0gYnJlYWtwb2ludHM7XHJcbiAgfVxyXG5cclxuICAvLyDQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INC+0L/RhtC40Lgg0LjQtyBKU09OXHJcbiAgaWYgKGVsZW1lbnQuZGF0YXNldC5zd2lwZXJPcHRpb25zKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjdXN0b21PcHRpb25zID0gSlNPTi5wYXJzZShlbGVtZW50LmRhdGFzZXQuc3dpcGVyT3B0aW9ucyk7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCBjdXN0b21PcHRpb25zKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKCfQndC1INGD0LTQsNC70L7RgdGMINGA0LDRgdC/0LDRgNGB0LjRgtGMIGRhdGEtc3dpcGVyLW9wdGlvbnM6JywgZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29uZmlnO1xyXG59XHJcblxyXG4vKipcclxuICog0J/QsNGA0YHQuNGCIGJyZWFrcG9pbnRzINC40LcgZGF0YS3QsNGC0YDQuNCx0YPRgtC+0LJcclxuICog0KTQvtGA0LzQsNGCOiBkYXRhLWJyZWFrcG9pbnRzPSd7XCI1NzZcIjp7XCJzbGlkZXNQZXJWaWV3XCI6Mn0sXCI3NjhcIjp7XCJzbGlkZXNQZXJWaWV3XCI6M319J1xyXG4gKiDQuNC70Lgg0L7RgtC00LXQu9GM0L3Ri9C1INCw0YLRgNC40LHRg9GC0Ys6IGRhdGEtYnJlYWtwb2ludC01NzYtc2xpZGVzLXBlci12aWV3PVwiMlwiXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSDQrdC70LXQvNC10L3RgiDRgdC+INGB0LvQsNC50LTQtdGA0L7QvFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSDQntCx0YrQtdC60YIg0YEgYnJlYWtwb2ludHNcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlQnJlYWtwb2ludHMoZWxlbWVudCkge1xyXG4gIGNvbnN0IGJyZWFrcG9pbnRzID0ge307XHJcblxyXG4gIC8vINCS0LDRgNC40LDQvdGCIDE6IEpTT04g0LIgZGF0YS1icmVha3BvaW50c1xyXG4gIGlmIChlbGVtZW50LmRhdGFzZXQuYnJlYWtwb2ludHMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGVsZW1lbnQuZGF0YXNldC5icmVha3BvaW50cyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign0J3QtSDRg9C00LDQu9C+0YHRjCDRgNCw0YHQv9Cw0YDRgdC40YLRjCBkYXRhLWJyZWFrcG9pbnRzOicsIGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0JLQsNGA0LjQsNC90YIgMjog0J7RgtC00LXQu9GM0L3Ri9C1INCw0YLRgNC40LHRg9GC0YsgZGF0YS1icmVha3BvaW50LXt3aWR0aH0te29wdGlvbn1cclxuICBjb25zdCBicmVha3BvaW50UGF0dGVybiA9IC9eYnJlYWtwb2ludC0oXFxkKyktKC4rKSQvO1xyXG4gIGNvbnN0IGRhdGFBdHRycyA9IE9iamVjdC5rZXlzKGVsZW1lbnQuZGF0YXNldCk7XHJcbiAgXHJcbiAgZGF0YUF0dHJzLmZvckVhY2goYXR0ciA9PiB7XHJcbiAgICBjb25zdCBtYXRjaCA9IGF0dHIubWF0Y2goYnJlYWtwb2ludFBhdHRlcm4pO1xyXG4gICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBjYW1lbENhc2UobWF0Y2hbMl0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFicmVha3BvaW50c1t3aWR0aF0pIHtcclxuICAgICAgICBicmVha3BvaW50c1t3aWR0aF0gPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50LmRhdGFzZXRbYXR0cl07XHJcbiAgICAgIGJyZWFrcG9pbnRzW3dpZHRoXVtvcHRpb25dID0gcGFyc2VWYWx1ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBicmVha3BvaW50cztcclxufVxyXG5cclxuLyoqXHJcbiAqINCf0YDQtdC+0LHRgNCw0LfRg9C10YIga2ViYWItY2FzZSDQsiBjYW1lbENhc2VcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtINCh0YLRgNC+0LrQsCDQsiBrZWJhYi1jYXNlXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9INCh0YLRgNC+0LrQsCDQsiBjYW1lbENhc2VcclxuICovXHJcbmZ1bmN0aW9uIGNhbWVsQ2FzZShzdHIpIHtcclxuICByZXR1cm4gc3RyLnJlcGxhY2UoLy0oW2Etel0pL2csIChnKSA9PiBnWzFdLnRvVXBwZXJDYXNlKCkpO1xyXG59XHJcblxyXG4vKipcclxuICog0J/QsNGA0YHQuNGCINC30L3QsNGH0LXQvdC40LUg0LIg0L/RgNCw0LLQuNC70YzQvdGL0Lkg0YLQuNC/ICjRh9C40YHQu9C+LCBib29sZWFuLCDRgdGC0YDQvtC60LApXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtINCX0L3QsNGH0LXQvdC40LUg0LTQu9GPINC/0LDRgNGB0LjQvdCz0LBcclxuICogQHJldHVybnMgeyp9INCf0LDRgNGB0LXQvdC90L7QtSDQt9C90LDRh9C10L3QuNC1XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlKSB7XHJcbiAgaWYgKHZhbHVlID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xyXG4gIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xyXG4gIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSAnJykgcmV0dXJuIHBhcnNlSW50KHZhbHVlKTtcclxuICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqXHJcbiAqINCc0L7QtNGD0LvRjCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LLQvtGB0L/RgNC+0LjQt9Cy0LXQtNC10L3QuNC10Lwg0LLQuNC00LXQvlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRWaWRlb1BsYXkoKSB7XHJcbiAgY29uc3QgdmlkZW9QbGF5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZXJvX19wbGF5LWJ0biwgLnZpZGVvLXNlY3Rpb25fX3BsYXktYnRuJyk7XHJcbiAgXHJcbiAgdmlkZW9QbGF5QnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHZpZGVvV3JhcHBlciA9IHRoaXMuY2xvc2VzdCgnLmhlcm8sIC52aWRlby1zZWN0aW9uJyk7XHJcbiAgICAgIGlmICghdmlkZW9XcmFwcGVyKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICAvLyDQmNGJ0LXQvCBpZnJhbWUg0LjQu9C4IHZpZGVvINGN0LvQtdC80LXQvdGCXHJcbiAgICAgIGNvbnN0IGlmcmFtZSA9IHZpZGVvV3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpZnJhbWUuaGVyb19fdmlkZW8nKTtcclxuICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb1dyYXBwZXIucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChpZnJhbWUpIHtcclxuICAgICAgICAvLyDQlNC70Y8gWW91VHViZSBpZnJhbWVcclxuICAgICAgICBjb25zdCBzcmMgPSBpZnJhbWUuc3JjO1xyXG4gICAgICAgIGNvbnN0IGlzUGxheWluZyA9IHNyYy5pbmNsdWRlcygnYXV0b3BsYXk9MScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10LwgYXV0b3BsYXkg0LogVVJMXHJcbiAgICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBzcmMuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/JztcclxuICAgICAgICAgIGlmcmFtZS5zcmMgPSBzcmMgKyBzZXBhcmF0b3IgKyAnYXV0b3BsYXk9MSc7XHJcbiAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHZpZGVvKSB7XHJcbiAgICAgICAgLy8g0JTQu9GPINC+0LHRi9GH0L3QvtCz0L4gdmlkZW8g0Y3Qu9C10LzQtdC90YLQsFxyXG4gICAgICAgIGlmICh2aWRlby5wYXVzZWQpIHtcclxuICAgICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiJdfQ=="}