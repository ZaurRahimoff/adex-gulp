{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js","src/js/modules/event-program-tabs.js","src/js/modules/mobile-menu.js","src/js/modules/scroll-to-top.js","src/js/modules/swiper.js","src/js/modules/video-play.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Main JavaScript file\r\n// Импорт модулей\r\nimport { initSwiperSliders } from './modules/swiper';\r\nimport { initEventProgramTabs } from './modules/event-program-tabs';\r\nimport { initVideoPlay } from './modules/video-play';\r\nimport { initMobileMenu } from './modules/mobile-menu';\r\nimport { initScrollToTop } from './modules/scroll-to-top';\r\n\r\n// Инициализация всех модулей после загрузки DOM\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  // Инициализация Swiper слайдеров\r\n  initSwiperSliders();\r\n\r\n  // Инициализация вкладок программы мероприятия\r\n  initEventProgramTabs();\r\n\r\n  // Инициализация управления видео\r\n  initVideoPlay();\r\n\r\n  // Инициализация мобильного меню\r\n  initMobileMenu();\r\n\r\n  // Инициализация кнопки прокрутки наверх\r\n  initScrollToTop();\r\n});\r\n\r\n","/**\r\n * Модуль для управления вкладками программы мероприятия\r\n */\r\nexport function initEventProgramTabs() {\r\n  const eventProgramTabs = document.querySelectorAll('.event-program-section__tab');\r\n  \r\n  if (eventProgramTabs.length > 0) {\r\n    eventProgramTabs.forEach(tab => {\r\n      tab.addEventListener('click', function() {\r\n        // Удаляем активный класс со всех вкладок\r\n        eventProgramTabs.forEach(t => t.classList.remove('event-program-section__tab--active'));\r\n        // Добавляем активный класс к нажатой вкладке\r\n        this.classList.add('event-program-section__tab--active');\r\n        // Получаем выбранный день\r\n        const day = this.getAttribute('data-day');\r\n        console.log('Selected day:', day);\r\n        // Здесь можно добавить логику загрузки программы для выбранного дня\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Модуль для управления мобильным меню\r\n */\r\nexport function initMobileMenu() {\r\n  // Анимация переключателя мобильного меню\r\n  const topbarToggle = document.querySelector('.topbar__toggle');\r\n  const navbarMobileMenu = document.querySelector('#navbarMobileMenu');\r\n  \r\n  if (topbarToggle && navbarMobileMenu) {\r\n    navbarMobileMenu.addEventListener('show.bs.offcanvas', function() {\r\n      topbarToggle.setAttribute('aria-expanded', 'true');\r\n    });\r\n\r\n    navbarMobileMenu.addEventListener('hide.bs.offcanvas', function() {\r\n      topbarToggle.setAttribute('aria-expanded', 'false');\r\n    });\r\n  }\r\n\r\n  // Анимация иконок выпадающих меню в мобильной версии\r\n  const mobileLinks = document.querySelectorAll('.navbar__mobile-link[data-bs-toggle=\"collapse\"]');\r\n  \r\n  mobileLinks.forEach(link => {\r\n    link.addEventListener('click', function() {\r\n      const targetId = this.getAttribute('data-bs-target');\r\n      const target = document.querySelector(targetId);\r\n      \r\n      if (target) {\r\n        target.addEventListener('shown.bs.collapse', function() {\r\n          link.setAttribute('aria-expanded', 'true');\r\n        });\r\n\r\n        target.addEventListener('hidden.bs.collapse', function() {\r\n          link.setAttribute('aria-expanded', 'false');\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n","/**\r\n * Модуль для кнопки прокрутки наверх\r\n */\r\nexport function initScrollToTop() {\r\n  const scrollToTopBtn = document.querySelector('.footer__scroll-top');\r\n  \r\n  if (scrollToTopBtn) {\r\n    scrollToTopBtn.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\n * Универсальный модуль для инициализации Swiper слайдеров\n * Настройки читаются из data-атрибутов HTML элемента\n * \n * Использование в HTML:\n * <div class=\"swiper\" \n *      data-swiper\n *      data-slides-per-view=\"1\"\n *      data-space-between=\"20\"\n *      data-loop=\"true\"\n *      data-nav-prev=\".prev-btn\"\n *      data-nav-next=\".next-btn\"\n *      data-breakpoints='{\"576\":{\"slidesPerView\":2},\"768\":{\"slidesPerView\":3}}'>\n *   ...\n * </div>\n */\nexport function initSwiperSliders() {\n  // Инициализируем все слайдеры с классом .swiper\n  const swiperContainers = document.querySelectorAll('.swiper');\n  \n  swiperContainers.forEach(container => {\n    // Пропускаем если уже инициализирован\n    if (container.swiperInstance) {\n      return;\n    }\n    \n    const config = parseSwiperConfig(container);\n    const swiper = new Swiper(container, config);\n    \n    // Специальная обработка для photo-swiper\n    if (container.classList.contains('photo-swiper')) {\n      // Для auto slidesPerView с разными размерами слайдов\n      if (swiper.params.slidesPerView === 'auto' && swiper.params.loop) {\n        swiper.params.loopAdditionalSlides = 3;\n        swiper.params.loopedSlides = 6;\n        swiper.params.watchSlidesProgress = true;\n        swiper.params.watchSlidesVisibility = true;\n      }\n      \n      // Флаг для предотвращения множественных обновлений\n      let isUpdating = false;\n      \n      // Функция безопасного обновления\n      const safeUpdate = () => {\n        if (isUpdating) return;\n        isUpdating = true;\n        requestAnimationFrame(() => {\n          swiper.update();\n          isUpdating = false;\n        });\n      };\n      \n      // Обновляем размеры после инициализации (один раз)\n      setTimeout(() => {\n        swiper.update();\n      }, 150);\n      \n      // Обновляем только после завершения перехода\n      swiper.on('slideChangeTransitionEnd', function() {\n        safeUpdate();\n      });\n      \n      // Предотвращаем обновление во время перехода\n      swiper.on('slideChangeTransitionStart', function() {\n        // Не обновляем во время перехода\n      });\n      \n      // Обновляем при изменении размера окна\n      let resizeTimer;\n      const handleResize = () => {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(() => {\n          if (!swiper.destroyed) {\n            swiper.update();\n          }\n        }, 250);\n      };\n      \n      window.addEventListener('resize', handleResize);\n      \n      // Очистка при уничтожении\n      swiper.on('destroy', () => {\n        window.removeEventListener('resize', handleResize);\n      });\n    }\n    \n    // Сохраняем экземпляр Swiper для доступа извне\n    container.swiperInstance = swiper;\n  });\n}\n\n/**\n * Парсит настройки Swiper из data-атрибутов элемента\n * @param {HTMLElement} element - Элемент со слайдером\n * @returns {Object} Конфигурация Swiper\n */\nfunction parseSwiperConfig(element) {\n  // Поддержка \"auto\" для slidesPerView\n  const slidesPerViewValue = element.dataset.slidesPerView;\n  const slidesPerView = slidesPerViewValue === 'auto' ? 'auto' : (parseInt(slidesPerViewValue) || 1);\n  \n  const config = {\n    slidesPerView: slidesPerView,\n    spaceBetween: parseInt(element.dataset.spaceBetween) || 20,\n    loop: element.dataset.loop === 'true' || element.dataset.loop === '',\n    centeredSlides: element.dataset.centeredSlides === 'true' || element.dataset.centeredSlides === '',\n    speed: parseInt(element.dataset.speed) || 300,\n    autoplay: element.dataset.autoplay ? {\n      delay: parseInt(element.dataset.autoplayDelay) || 3000,\n      disableOnInteraction: element.dataset.autoplayDisableOnInteraction !== 'false'\n    } : false,\n  };\n\n  // Добавляем loopAdditionalSlides для корректной работы loop с auto\n  if (config.slidesPerView === 'auto' && config.loop) {\n    config.loopAdditionalSlides = 4;\n    config.loopedSlides = 8;\n    config.watchSlidesProgress = true;\n    config.watchSlidesVisibility = true;\n  }\n\n  // Навигация - ищем кнопки навигации по селекторам или по классам\n  let navPrev = element.dataset.navPrev;\n  let navNext = element.dataset.navNext;\n  \n  // Если селекторы не указаны, пытаемся найти кнопки по стандартным классам\n  if (!navPrev || !navNext) {\n    const parent = element.closest('section');\n    if (parent) {\n      // Ищем кнопки навигации в родительской секции\n      const prevBtn = parent.querySelector('[class*=\"nav-btn--prev\"], [class*=\"nav-prev\"]');\n      const nextBtn = parent.querySelector('[class*=\"nav-btn--next\"], [class*=\"nav-next\"]');\n      \n      if (prevBtn && nextBtn) {\n        // Если нашли элементы, используем их напрямую\n        navPrev = navPrev || prevBtn;\n        navNext = navNext || nextBtn;\n      }\n    }\n  }\n  \n  if (navPrev && navNext) {\n    config.navigation = {\n      // Если это строка (селектор), используем как есть, иначе передаем элемент\n      nextEl: typeof navNext === 'string' ? navNext : navNext,\n      prevEl: typeof navPrev === 'string' ? navPrev : navPrev,\n    };\n  }\n\n  // Пагинация\n  const pagination = element.dataset.pagination;\n  if (pagination) {\n    config.pagination = {\n      el: pagination,\n      clickable: element.dataset.paginationClickable !== 'false',\n      type: element.dataset.paginationType || 'bullets',\n    };\n  }\n\n  // Breakpoints\n  const breakpoints = parseBreakpoints(element);\n  if (breakpoints && Object.keys(breakpoints).length > 0) {\n    config.breakpoints = breakpoints;\n  }\n\n  // Дополнительные опции из JSON\n  if (element.dataset.swiperOptions) {\n    try {\n      const customOptions = JSON.parse(element.dataset.swiperOptions);\n      Object.assign(config, customOptions);\n    } catch (e) {\n      console.warn('Не удалось распарсить data-swiper-options:', e);\n    }\n  }\n\n  return config;\n}\n\n/**\n * Парсит breakpoints из data-атрибутов\n * Формат: data-breakpoints='{\"576\":{\"slidesPerView\":2},\"768\":{\"slidesPerView\":3}}'\n * или отдельные атрибуты: data-breakpoint-576-slides-per-view=\"2\"\n * @param {HTMLElement} element - Элемент со слайдером\n * @returns {Object} Объект с breakpoints\n */\nfunction parseBreakpoints(element) {\n  const breakpoints = {};\n\n  // Вариант 1: JSON в data-breakpoints\n  if (element.dataset.breakpoints) {\n    try {\n      return JSON.parse(element.dataset.breakpoints);\n    } catch (e) {\n      console.warn('Не удалось распарсить data-breakpoints:', e);\n    }\n  }\n\n  // Вариант 2: Отдельные атрибуты data-breakpoint-{width}-{option}\n  const breakpointPattern = /^breakpoint-(\\d+)-(.+)$/;\n  const dataAttrs = Object.keys(element.dataset);\n  \n  dataAttrs.forEach(attr => {\n    const match = attr.match(breakpointPattern);\n    if (match) {\n      const width = parseInt(match[1]);\n      const option = camelCase(match[2]);\n      \n      if (!breakpoints[width]) {\n        breakpoints[width] = {};\n      }\n      \n      const value = element.dataset[attr];\n      breakpoints[width][option] = parseValue(value);\n    }\n  });\n\n  return breakpoints;\n}\n\n/**\n * Преобразует kebab-case в camelCase\n * @param {string} str - Строка в kebab-case\n * @returns {string} Строка в camelCase\n */\nfunction camelCase(str) {\n  return str.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n}\n\n/**\n * Парсит значение в правильный тип (число, boolean, строка)\n * @param {string} value - Значение для парсинга\n * @returns {*} Парсенное значение\n */\nfunction parseValue(value) {\n  if (value === 'true') return true;\n  if (value === 'false') return false;\n  if (!isNaN(value) && value !== '') return parseInt(value);\n  return value;\n}\n","/**\r\n * Модуль для управления воспроизведением видео\r\n */\r\nexport function initVideoPlay() {\r\n  const videoPlayButtons = document.querySelectorAll('.hero__play-btn, .video-section__play-btn');\r\n  \r\n  videoPlayButtons.forEach(btn => {\r\n    btn.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      \r\n      const videoWrapper = this.closest('.hero, .video-section');\r\n      if (!videoWrapper) return;\r\n      \r\n      // Ищем iframe или video элемент\r\n      const iframe = videoWrapper.querySelector('iframe.hero__video');\r\n      const video = videoWrapper.querySelector('video');\r\n      \r\n      if (iframe) {\r\n        // Для YouTube iframe\r\n        const src = iframe.src;\r\n        const isPlaying = src.includes('autoplay=1');\r\n        \r\n        if (!isPlaying) {\r\n          // Добавляем autoplay к URL\r\n          const separator = src.includes('?') ? '&' : '?';\r\n          iframe.src = src + separator + 'autoplay=1';\r\n          this.style.display = 'none';\r\n        }\r\n      } else if (video) {\r\n        // Для обычного video элемента\r\n        if (video.paused) {\r\n          video.play();\r\n          this.style.display = 'none';\r\n        } else {\r\n          video.pause();\r\n          this.style.display = 'flex';\r\n        }\r\n      }\r\n    });\r\n  });\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2R1bGVzL2V2ZW50LXByb2dyYW0tdGFicy5qcyIsInNyYy9qcy9tb2R1bGVzL21vYmlsZS1tZW51LmpzIiwic3JjL2pzL21vZHVsZXMvc2Nyb2xsLXRvLXRvcC5qcyIsInNyYy9qcy9tb2R1bGVzL3N3aXBlci5qcyIsInNyYy9qcy9tb2R1bGVzL3ZpZGVvLXBsYXkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBLElBQUEsT0FBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLGlCQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsVUFBQSxHQUFBLE9BQUE7QUFDQSxJQUFBLFdBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQTtBQU5BO0FBQ0E7O0FBT0E7QUFDQSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsWUFBVztFQUN2RDtFQUNBLElBQUEseUJBQWlCLEVBQUMsQ0FBQzs7RUFFbkI7RUFDQSxJQUFBLHNDQUFvQixFQUFDLENBQUM7O0VBRXRCO0VBQ0EsSUFBQSx3QkFBYSxFQUFDLENBQUM7O0VBRWY7RUFDQSxJQUFBLDBCQUFjLEVBQUMsQ0FBQzs7RUFFaEI7RUFDQSxJQUFBLDRCQUFlLEVBQUMsQ0FBQztBQUNuQixDQUFDLENBQUM7Ozs7Ozs7OztBQ3hCRjtBQUNBO0FBQ0E7QUFDTyxTQUFTLG9CQUFvQixDQUFBLEVBQUc7RUFDckMsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsNkJBQTZCLENBQUM7RUFFakYsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQy9CLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7TUFDOUIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO1FBQ3ZDO1FBQ0EsZ0JBQWdCLENBQUMsT0FB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LEdBQUcsR0FBRztVQUMvQyxNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxTQUFTLEdBQUcsWUFBWTtVQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNO1FBQzdCO01BQ0YsQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO1FBQ2hCO1FBQ0EsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1VBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztVQUNaLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07UUFDN0IsQ0FBQyxNQUFNO1VBQ0wsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1VBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTTtRQUM3QjtNQUNGO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0oiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvLyBNYWluIEphdmFTY3JpcHQgZmlsZVxyXG4vLyDQmNC80L/QvtGA0YIg0LzQvtC00YPQu9C10LlcclxuaW1wb3J0IHsgaW5pdFN3aXBlclNsaWRlcnMgfSBmcm9tICcuL21vZHVsZXMvc3dpcGVyJztcclxuaW1wb3J0IHsgaW5pdEV2ZW50UHJvZ3JhbVRhYnMgfSBmcm9tICcuL21vZHVsZXMvZXZlbnQtcHJvZ3JhbS10YWJzJztcclxuaW1wb3J0IHsgaW5pdFZpZGVvUGxheSB9IGZyb20gJy4vbW9kdWxlcy92aWRlby1wbGF5JztcclxuaW1wb3J0IHsgaW5pdE1vYmlsZU1lbnUgfSBmcm9tICcuL21vZHVsZXMvbW9iaWxlLW1lbnUnO1xyXG5pbXBvcnQgeyBpbml0U2Nyb2xsVG9Ub3AgfSBmcm9tICcuL21vZHVsZXMvc2Nyb2xsLXRvLXRvcCc7XHJcblxyXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQstGB0LXRhSDQvNC+0LTRg9C70LXQuSDQv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60LggRE9NXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyBTd2lwZXIg0YHQu9Cw0LnQtNC10YDQvtCyXHJcbiAgaW5pdFN3aXBlclNsaWRlcnMoKTtcclxuXHJcbiAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LLQutC70LDQtNC+0Log0L/RgNC+0LPRgNCw0LzQvNGLINC80LXRgNC+0L/RgNC40Y/RgtC40Y9cclxuICBpbml0RXZlbnRQcm9ncmFtVGFicygpO1xyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQstC40LTQtdC+XHJcbiAgaW5pdFZpZGVvUGxheSgpO1xyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvNC+0LHQuNC70YzQvdC+0LPQviDQvNC10L3RjlxyXG4gIGluaXRNb2JpbGVNZW51KCk7XHJcblxyXG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L3QvtC/0LrQuCDQv9GA0L7QutGA0YPRgtC60Lgg0L3QsNCy0LXRgNGFXHJcbiAgaW5pdFNjcm9sbFRvVG9wKCk7XHJcbn0pO1xyXG5cclxuIiwiLyoqXHJcbiAqINCc0L7QtNGD0LvRjCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LLQutC70LDQtNC60LDQvNC4INC/0YDQvtCz0YDQsNC80LzRiyDQvNC10YDQvtC/0YDQuNGP0YLQuNGPXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEV2ZW50UHJvZ3JhbVRhYnMoKSB7XHJcbiAgY29uc3QgZXZlbnRQcm9ncmFtVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ldmVudC1wcm9ncmFtLXNlY3Rpb25fX3RhYicpO1xyXG4gIFxyXG4gIGlmIChldmVudFByb2dyYW1UYWJzLmxlbmd0aCA+IDApIHtcclxuICAgIGV2ZW50UHJvZ3JhbVRhYnMuZm9yRWFjaCh0YWIgPT4ge1xyXG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyDQo9C00LDQu9GP0LXQvCDQsNC60YLQuNCy0L3Ri9C5INC60LvQsNGB0YEg0YHQviDQstGB0LXRhSDQstC60LvQsNC00L7QulxyXG4gICAgICAgIGV2ZW50UHJvZ3JhbVRhYnMuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnJlbW92ZSgnZXZlbnQtcHJvZ3JhbS1zZWN0aW9uX190YWItLWFjdGl2ZScpKTtcclxuICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LDQutGC0LjQstC90YvQuSDQutC70LDRgdGBINC6INC90LDQttCw0YLQvtC5INCy0LrQu9Cw0LTQutC1XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdldmVudC1wcm9ncmFtLXNlY3Rpb25fX3RhYi0tYWN0aXZlJyk7XHJcbiAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQstGL0LHRgNCw0L3QvdGL0Lkg0LTQtdC90YxcclxuICAgICAgICBjb25zdCBkYXkgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXknKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQgZGF5OicsIGRheSk7XHJcbiAgICAgICAgLy8g0JfQtNC10YHRjCDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0LvQvtCz0LjQutGDINC30LDQs9GA0YPQt9C60Lgg0L/RgNC+0LPRgNCw0LzQvNGLINC00LvRjyDQstGL0LHRgNCw0L3QvdC+0LPQviDQtNC90Y9cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqINCc0L7QtNGD0LvRjCDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0LzQvtCx0LjQu9GM0L3Ri9C8INC80LXQvdGOXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdE1vYmlsZU1lbnUoKSB7XHJcbiAgLy8g0JDQvdC40LzQsNGG0LjRjyDQv9C10YDQtdC60LvRjtGH0LDRgtC10LvRjyDQvNC+0LHQuNC70YzQvdC+0LPQviDQvNC10L3RjlxyXG4gIGNvbnN0IHRvcGJhclRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3BiYXJfX3RvZ2dsZScpO1xyXG4gIGNvbnN0IG5hdmJhck1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2YmFyTW9iaWxlTWVudScpO1xyXG4gIFxyXG4gIGlmICh0b3BiYXJUb2dnbGUgJiYgbmF2YmFyTW9iaWxlTWVudSkge1xyXG4gICAgbmF2YmFyTW9iaWxlTWVudS5hZGRFdmVudExpc3RlbmVyKCdzaG93LmJzLm9mZmNhbnZhcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB0b3BiYXJUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG5hdmJhck1vYmlsZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignaGlkZS5icy5vZmZjYW52YXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgdG9wYmFyVG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQkNC90LjQvNCw0YbQuNGPINC40LrQvtC90L7QuiDQstGL0L/QsNC00LDRjtGJ0LjRhSDQvNC10L3RjiDQsiDQvNC+0LHQuNC70YzQvdC+0Lkg0LLQtdGA0YHQuNC4XHJcbiAgY29uc3QgbW9iaWxlTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19tb2JpbGUtbGlua1tkYXRhLWJzLXRvZ2dsZT1cImNvbGxhcHNlXCJdJyk7XHJcbiAgXHJcbiAgbW9iaWxlTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1icy10YXJnZXQnKTtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3duLmJzLmNvbGxhcHNlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdoaWRkZW4uYnMuY29sbGFwc2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiDQnNC+0LTRg9C70Ywg0LTQu9GPINC60L3QvtC/0LrQuCDQv9GA0L7QutGA0YPRgtC60Lgg0L3QsNCy0LXRgNGFXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjcm9sbFRvVG9wKCkge1xyXG4gIGNvbnN0IHNjcm9sbFRvVG9wQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9fc2Nyb2xsLXRvcCcpO1xyXG4gIFxyXG4gIGlmIChzY3JvbGxUb1RvcEJ0bikge1xyXG4gICAgc2Nyb2xsVG9Ub3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxuICog0KPQvdC40LLQtdGA0YHQsNC70YzQvdGL0Lkg0LzQvtC00YPQu9GMINC00LvRjyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCBTd2lwZXIg0YHQu9Cw0LnQtNC10YDQvtCyXG4gKiDQndCw0YHRgtGA0L7QudC60Lgg0YfQuNGC0LDRjtGC0YHRjyDQuNC3IGRhdGEt0LDRgtGA0LjQsdGD0YLQvtCyIEhUTUwg0Y3Qu9C10LzQtdC90YLQsFxuICogXG4gKiDQmNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQsiBIVE1MOlxuICogPGRpdiBjbGFzcz1cInN3aXBlclwiIFxuICogICAgICBkYXRhLXN3aXBlclxuICogICAgICBkYXRhLXNsaWRlcy1wZXItdmlldz1cIjFcIlxuICogICAgICBkYXRhLXNwYWNlLWJldHdlZW49XCIyMFwiXG4gKiAgICAgIGRhdGEtbG9vcD1cInRydWVcIlxuICogICAgICBkYXRhLW5hdi1wcmV2PVwiLnByZXYtYnRuXCJcbiAqICAgICAgZGF0YS1uYXYtbmV4dD1cIi5uZXh0LWJ0blwiXG4gKiAgICAgIGRhdGEtYnJlYWtwb2ludHM9J3tcIjU3NlwiOntcInNsaWRlc1BlclZpZXdcIjoyfSxcIjc2OFwiOntcInNsaWRlc1BlclZpZXdcIjozfX0nPlxuICogICAuLi5cbiAqIDwvZGl2PlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN3aXBlclNsaWRlcnMoKSB7XG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10Lwg0LLRgdC1INGB0LvQsNC50LTQtdGA0Ysg0YEg0LrQu9Cw0YHRgdC+0LwgLnN3aXBlclxuICBjb25zdCBzd2lwZXJDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlcicpO1xuICBcbiAgc3dpcGVyQ29udGFpbmVycy5mb3JFYWNoKGNvbnRhaW5lciA9PiB7XG4gICAgLy8g0J/RgNC+0L/Rg9GB0LrQsNC10Lwg0LXRgdC70Lgg0YPQttC1INC40L3QuNGG0LjQsNC70LjQt9C40YDQvtCy0LDQvVxuICAgIGlmIChjb250YWluZXIuc3dpcGVySW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29uZmlnID0gcGFyc2VTd2lwZXJDb25maWcoY29udGFpbmVyKTtcbiAgICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKGNvbnRhaW5lciwgY29uZmlnKTtcbiAgICBcbiAgICAvLyDQodC/0LXRhtC40LDQu9GM0L3QsNGPINC+0LHRgNCw0LHQvtGC0LrQsCDQtNC70Y8gcGhvdG8tc3dpcGVyXG4gICAgaWYgKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ3Bob3RvLXN3aXBlcicpKSB7XG4gICAgICAvLyDQlNC70Y8gYXV0byBzbGlkZXNQZXJWaWV3INGBINGA0LDQt9C90YvQvNC4INGA0LDQt9C80LXRgNCw0LzQuCDRgdC70LDQudC00L7QslxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIucGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzID0gMztcbiAgICAgICAgc3dpcGVyLnBhcmFtcy5sb29wZWRTbGlkZXMgPSA2O1xuICAgICAgICBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCk0LvQsNCzINC00LvRjyDQv9GA0LXQtNC+0YLQstGA0LDRidC10L3QuNGPINC80L3QvtC20LXRgdGC0LLQtdC90L3Ri9GFINC+0LHQvdC+0LLQu9C10L3QuNC5XG4gICAgICBsZXQgaXNVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgXG4gICAgICAvLyDQpNGD0L3QutGG0LjRjyDQsdC10LfQvtC/0LDRgdC90L7Qs9C+INC+0LHQvdC+0LLQu9C10L3QuNGPXG4gICAgICBjb25zdCBzYWZlVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNVcGRhdGluZykgcmV0dXJuO1xuICAgICAgICBpc1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlKCk7XG4gICAgICAgICAgaXNVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgNCw0LfQvNC10YDRiyDQv9C+0YHQu9C1INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4ICjQvtC00LjQvSDRgNCw0LcpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgfSwgMTUwKTtcbiAgICAgIFxuICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGC0L7Qu9GM0LrQviDQv9C+0YHQu9C1INC30LDQstC10YDRiNC10L3QuNGPINC/0LXRgNC10YXQvtC00LBcbiAgICAgIHN3aXBlci5vbignc2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNhZmVVcGRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyDQn9GA0LXQtNC+0YLQstGA0LDRidCw0LXQvCDQvtCx0L3QvtCy0LvQtdC90LjQtSDQstC+INCy0YDQtdC80Y8g0L/QtdGA0LXRhdC+0LTQsFxuICAgICAgc3dpcGVyLm9uKCdzbGlkZUNoYW5nZVRyYW5zaXRpb25TdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyDQndC1INC+0LHQvdC+0LLQu9GP0LXQvCDQstC+INCy0YDQtdC80Y8g0L/QtdGA0LXRhdC+0LTQsFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INGA0LDQt9C80LXRgNCwINC+0LrQvdCwXG4gICAgICBsZXQgcmVzaXplVGltZXI7XG4gICAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XG4gICAgICAgIHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBzd2lwZXIudXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAyNTApO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICBcbiAgICAgIC8vINCe0YfQuNGB0YLQutCwINC/0YDQuCDRg9C90LjRh9GC0L7QttC10L3QuNC4XG4gICAgICBzd2lwZXIub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDRjdC60LfQtdC80L/Qu9GP0YAgU3dpcGVyINC00LvRjyDQtNC+0YHRgtGD0L/QsCDQuNC30LLQvdC1XG4gICAgY29udGFpbmVyLnN3aXBlckluc3RhbmNlID0gc3dpcGVyO1xuICB9KTtcbn1cblxuLyoqXG4gKiDQn9Cw0YDRgdC40YIg0L3QsNGB0YLRgNC+0LnQutC4IFN3aXBlciDQuNC3IGRhdGEt0LDRgtGA0LjQsdGD0YLQvtCyINGN0LvQtdC80LXQvdGC0LBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSDQrdC70LXQvNC10L3RgiDRgdC+INGB0LvQsNC50LTQtdGA0L7QvFxuICogQHJldHVybnMge09iamVjdH0g0JrQvtC90YTQuNCz0YPRgNCw0YbQuNGPIFN3aXBlclxuICovXG5mdW5jdGlvbiBwYXJzZVN3aXBlckNvbmZpZyhlbGVtZW50KSB7XG4gIC8vINCf0L7QtNC00LXRgNC20LrQsCBcImF1dG9cIiDQtNC70Y8gc2xpZGVzUGVyVmlld1xuICBjb25zdCBzbGlkZXNQZXJWaWV3VmFsdWUgPSBlbGVtZW50LmRhdGFzZXQuc2xpZGVzUGVyVmlldztcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXdWYWx1ZSA9PT0gJ2F1dG8nID8gJ2F1dG8nIDogKHBhcnNlSW50KHNsaWRlc1BlclZpZXdWYWx1ZSkgfHwgMSk7XG4gIFxuICBjb25zdCBjb25maWcgPSB7XG4gICAgc2xpZGVzUGVyVmlldzogc2xpZGVzUGVyVmlldyxcbiAgICBzcGFjZUJldHdlZW46IHBhcnNlSW50KGVsZW1lbnQuZGF0YXNldC5zcGFjZUJldHdlZW4pIHx8IDIwLFxuICAgIGxvb3A6IGVsZW1lbnQuZGF0YXNldC5sb29wID09PSAndHJ1ZScgfHwgZWxlbWVudC5kYXRhc2V0Lmxvb3AgPT09ICcnLFxuICAgIGNlbnRlcmVkU2xpZGVzOiBlbGVtZW50LmRhdGFzZXQuY2VudGVyZWRTbGlkZXMgPT09ICd0cnVlJyB8fCBlbGVtZW50LmRhdGFzZXQuY2VudGVyZWRTbGlkZXMgPT09ICcnLFxuICAgIHNwZWVkOiBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuc3BlZWQpIHx8IDMwMCxcbiAgICBhdXRvcGxheTogZWxlbWVudC5kYXRhc2V0LmF1dG9wbGF5ID8ge1xuICAgICAgZGVsYXk6IHBhcnNlSW50KGVsZW1lbnQuZGF0YXNldC5hdXRvcGxheURlbGF5KSB8fCAzMDAwLFxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGVsZW1lbnQuZGF0YXNldC5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uICE9PSAnZmFsc2UnXG4gICAgfSA6IGZhbHNlLFxuICB9O1xuXG4gIC8vINCU0L7QsdCw0LLQu9GP0LXQvCBsb29wQWRkaXRpb25hbFNsaWRlcyDQtNC70Y8g0LrQvtGA0YDQtdC60YLQvdC+0Lkg0YDQsNCx0L7RgtGLIGxvb3Ag0YEgYXV0b1xuICBpZiAoY29uZmlnLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBjb25maWcubG9vcCkge1xuICAgIGNvbmZpZy5sb29wQWRkaXRpb25hbFNsaWRlcyA9IDQ7XG4gICAgY29uZmlnLmxvb3BlZFNsaWRlcyA9IDg7XG4gICAgY29uZmlnLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIGNvbmZpZy53YXRjaFNsaWRlc1Zpc2liaWxpdHkgPSB0cnVlO1xuICB9XG5cbiAgLy8g0J3QsNCy0LjQs9Cw0YbQuNGPIC0g0LjRidC10Lwg0LrQvdC+0L/QutC4INC90LDQstC40LPQsNGG0LjQuCDQv9C+INGB0LXQu9C10LrRgtC+0YDQsNC8INC40LvQuCDQv9C+INC60LvQsNGB0YHQsNC8XG4gIGxldCBuYXZQcmV2ID0gZWxlbWVudC5kYXRhc2V0Lm5hdlByZXY7XG4gIGxldCBuYXZOZXh0ID0gZWxlbWVudC5kYXRhc2V0Lm5hdk5leHQ7XG4gIFxuICAvLyDQldGB0LvQuCDRgdC10LvQtdC60YLQvtGA0Ysg0L3QtSDRg9C60LDQt9Cw0L3Riywg0L/Ri9GC0LDQtdC80YHRjyDQvdCw0LnRgtC4INC60L3QvtC/0LrQuCDQv9C+INGB0YLQsNC90LTQsNGA0YLQvdGL0Lwg0LrQu9Cw0YHRgdCw0LxcbiAgaWYgKCFuYXZQcmV2IHx8ICFuYXZOZXh0KSB7XG4gICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5jbG9zZXN0KCdzZWN0aW9uJyk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgLy8g0JjRidC10Lwg0LrQvdC+0L/QutC4INC90LDQstC40LPQsNGG0LjQuCDQsiDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0Lkg0YHQtdC60YbQuNC4XG4gICAgICBjb25zdCBwcmV2QnRuID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJuYXYtYnRuLS1wcmV2XCJdLCBbY2xhc3MqPVwibmF2LXByZXZcIl0nKTtcbiAgICAgIGNvbnN0IG5leHRCdG4gPSBwYXJlbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cIm5hdi1idG4tLW5leHRcIl0sIFtjbGFzcyo9XCJuYXYtbmV4dFwiXScpO1xuICAgICAgXG4gICAgICBpZiAocHJldkJ0biAmJiBuZXh0QnRuKSB7XG4gICAgICAgIC8vINCV0YHQu9C4INC90LDRiNC70Lgg0Y3Qu9C10LzQtdC90YLRiywg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LjRhSDQvdCw0L/RgNGP0LzRg9GOXG4gICAgICAgIG5hdlByZXYgPSBuYXZQcmV2IHx8IHByZXZCdG47XG4gICAgICAgIG5hdk5leHQgPSBuYXZOZXh0IHx8IG5leHRCdG47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBpZiAobmF2UHJldiAmJiBuYXZOZXh0KSB7XG4gICAgY29uZmlnLm5hdmlnYXRpb24gPSB7XG4gICAgICAvLyDQldGB0LvQuCDRjdGC0L4g0YHRgtGA0L7QutCwICjRgdC10LvQtdC60YLQvtGAKSwg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LrQsNC6INC10YHRgtGMLCDQuNC90LDRh9C1INC/0LXRgNC10LTQsNC10Lwg0Y3Qu9C10LzQtdC90YJcbiAgICAgIG5leHRFbDogdHlwZW9mIG5hdk5leHQgPT09ICdzdHJpbmcnID8gbmF2TmV4dCA6IG5hdk5leHQsXG4gICAgICBwcmV2RWw6IHR5cGVvZiBuYXZQcmV2ID09PSAnc3RyaW5nJyA/IG5hdlByZXYgOiBuYXZQcmV2LFxuICAgIH07XG4gIH1cblxuICAvLyDQn9Cw0LPQuNC90LDRhtC40Y9cbiAgY29uc3QgcGFnaW5hdGlvbiA9IGVsZW1lbnQuZGF0YXNldC5wYWdpbmF0aW9uO1xuICBpZiAocGFnaW5hdGlvbikge1xuICAgIGNvbmZpZy5wYWdpbmF0aW9uID0ge1xuICAgICAgZWw6IHBhZ2luYXRpb24sXG4gICAgICBjbGlja2FibGU6IGVsZW1lbnQuZGF0YXNldC5wYWdpbmF0aW9uQ2xpY2thYmxlICE9PSAnZmFsc2UnLFxuICAgICAgdHlwZTogZWxlbWVudC5kYXRhc2V0LnBhZ2luYXRpb25UeXBlIHx8ICdidWxsZXRzJyxcbiAgICB9O1xuICB9XG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBwYXJzZUJyZWFrcG9pbnRzKGVsZW1lbnQpO1xuICBpZiAoYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLmxlbmd0aCA+IDApIHtcbiAgICBjb25maWcuYnJlYWtwb2ludHMgPSBicmVha3BvaW50cztcbiAgfVxuXG4gIC8vINCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0L7Qv9GG0LjQuCDQuNC3IEpTT05cbiAgaWYgKGVsZW1lbnQuZGF0YXNldC5zd2lwZXJPcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1c3RvbU9wdGlvbnMgPSBKU09OLnBhcnNlKGVsZW1lbnQuZGF0YXNldC5zd2lwZXJPcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCBjdXN0b21PcHRpb25zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0YDQsNGB0L/QsNGA0YHQuNGC0YwgZGF0YS1zd2lwZXItb3B0aW9uczonLCBlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnO1xufVxuXG4vKipcbiAqINCf0LDRgNGB0LjRgiBicmVha3BvaW50cyDQuNC3IGRhdGEt0LDRgtGA0LjQsdGD0YLQvtCyXG4gKiDQpNC+0YDQvNCw0YI6IGRhdGEtYnJlYWtwb2ludHM9J3tcIjU3NlwiOntcInNsaWRlc1BlclZpZXdcIjoyfSxcIjc2OFwiOntcInNsaWRlc1BlclZpZXdcIjozfX0nXG4gKiDQuNC70Lgg0L7RgtC00LXQu9GM0L3Ri9C1INCw0YLRgNC40LHRg9GC0Ys6IGRhdGEtYnJlYWtwb2ludC01NzYtc2xpZGVzLXBlci12aWV3PVwiMlwiXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0g0K3Qu9C10LzQtdC90YIg0YHQviDRgdC70LDQudC00LXRgNC+0LxcbiAqIEByZXR1cm5zIHtPYmplY3R9INCe0LHRitC10LrRgiDRgSBicmVha3BvaW50c1xuICovXG5mdW5jdGlvbiBwYXJzZUJyZWFrcG9pbnRzKGVsZW1lbnQpIHtcbiAgY29uc3QgYnJlYWtwb2ludHMgPSB7fTtcblxuICAvLyDQktCw0YDQuNCw0L3RgiAxOiBKU09OINCyIGRhdGEtYnJlYWtwb2ludHNcbiAgaWYgKGVsZW1lbnQuZGF0YXNldC5icmVha3BvaW50cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShlbGVtZW50LmRhdGFzZXQuYnJlYWtwb2ludHMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybign0J3QtSDRg9C00LDQu9C+0YHRjCDRgNCw0YHQv9Cw0YDRgdC40YLRjCBkYXRhLWJyZWFrcG9pbnRzOicsIGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vINCS0LDRgNC40LDQvdGCIDI6INCe0YLQtNC10LvRjNC90YvQtSDQsNGC0YDQuNCx0YPRgtGLIGRhdGEtYnJlYWtwb2ludC17d2lkdGh9LXtvcHRpb259XG4gIGNvbnN0IGJyZWFrcG9pbnRQYXR0ZXJuID0gL15icmVha3BvaW50LShcXGQrKS0oLispJC87XG4gIGNvbnN0IGRhdGFBdHRycyA9IE9iamVjdC5rZXlzKGVsZW1lbnQuZGF0YXNldCk7XG4gIFxuICBkYXRhQXR0cnMuZm9yRWFjaChhdHRyID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IGF0dHIubWF0Y2goYnJlYWtwb2ludFBhdHRlcm4pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3Qgd2lkdGggPSBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgICBjb25zdCBvcHRpb24gPSBjYW1lbENhc2UobWF0Y2hbMl0pO1xuICAgICAgXG4gICAgICBpZiAoIWJyZWFrcG9pbnRzW3dpZHRoXSkge1xuICAgICAgICBicmVha3BvaW50c1t3aWR0aF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50LmRhdGFzZXRbYXR0cl07XG4gICAgICBicmVha3BvaW50c1t3aWR0aF1bb3B0aW9uXSA9IHBhcnNlVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGJyZWFrcG9pbnRzO1xufVxuXG4vKipcbiAqINCf0YDQtdC+0LHRgNCw0LfRg9C10YIga2ViYWItY2FzZSDQsiBjYW1lbENhc2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSDQodGC0YDQvtC60LAg0LIga2ViYWItY2FzZVxuICogQHJldHVybnMge3N0cmluZ30g0KHRgtGA0L7QutCwINCyIGNhbWVsQ2FzZVxuICovXG5mdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvLShbYS16XSkvZywgKGcpID0+IGdbMV0udG9VcHBlckNhc2UoKSk7XG59XG5cbi8qKlxuICog0J/QsNGA0YHQuNGCINC30L3QsNGH0LXQvdC40LUg0LIg0L/RgNCw0LLQuNC70YzQvdGL0Lkg0YLQuNC/ICjRh9C40YHQu9C+LCBib29sZWFuLCDRgdGC0YDQvtC60LApXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSDQl9C90LDRh9C10L3QuNC1INC00LvRjyDQv9Cw0YDRgdC40L3Qs9CwXG4gKiBAcmV0dXJucyB7Kn0g0J/QsNGA0YHQtdC90L3QvtC1INC30L3QsNGH0LXQvdC40LVcbiAqL1xuZnVuY3Rpb24gcGFyc2VWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09ICd0cnVlJykgcmV0dXJuIHRydWU7XG4gIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gJycpIHJldHVybiBwYXJzZUludCh2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn1cbiIsIi8qKlxyXG4gKiDQnNC+0LTRg9C70Ywg0LTQu9GPINGD0L/RgNCw0LLQu9C10L3QuNGPINCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtdC8INCy0LjQtNC10L5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0VmlkZW9QbGF5KCkge1xyXG4gIGNvbnN0IHZpZGVvUGxheUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVyb19fcGxheS1idG4sIC52aWRlby1zZWN0aW9uX19wbGF5LWJ0bicpO1xyXG4gIFxyXG4gIHZpZGVvUGxheUJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB2aWRlb1dyYXBwZXIgPSB0aGlzLmNsb3Nlc3QoJy5oZXJvLCAudmlkZW8tc2VjdGlvbicpO1xyXG4gICAgICBpZiAoIXZpZGVvV3JhcHBlcikgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8g0JjRidC10LwgaWZyYW1lINC40LvQuCB2aWRlbyDRjdC70LXQvNC10L3RglxyXG4gICAgICBjb25zdCBpZnJhbWUgPSB2aWRlb1dyYXBwZXIucXVlcnlTZWxlY3RvcignaWZyYW1lLmhlcm9fX3ZpZGVvJyk7XHJcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaWZyYW1lKSB7XHJcbiAgICAgICAgLy8g0JTQu9GPIFlvdVR1YmUgaWZyYW1lXHJcbiAgICAgICAgY29uc3Qgc3JjID0gaWZyYW1lLnNyYztcclxuICAgICAgICBjb25zdCBpc1BsYXlpbmcgPSBzcmMuaW5jbHVkZXMoJ2F1dG9wbGF5PTEnKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWlzUGxheWluZykge1xyXG4gICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8IGF1dG9wbGF5INC6IFVSTFxyXG4gICAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gc3JjLmluY2x1ZGVzKCc/JykgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICBpZnJhbWUuc3JjID0gc3JjICsgc2VwYXJhdG9yICsgJ2F1dG9wbGF5PTEnO1xyXG4gICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh2aWRlbykge1xyXG4gICAgICAgIC8vINCU0LvRjyDQvtCx0YvRh9C90L7Qs9C+IHZpZGVvINGN0LvQtdC80LXQvdGC0LBcclxuICAgICAgICBpZiAodmlkZW8ucGF1c2VkKSB7XHJcbiAgICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XHJcbiAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG4iXX0="}